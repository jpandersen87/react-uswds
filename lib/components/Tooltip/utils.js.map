{"version":3,"file":"utils.js","sources":["../../../libSrc/components/Tooltip/utils.ts"],"sourcesContent":["import type { DefaultTooltipProps, CustomTooltipProps } from './Tooltip.js'\n\nexport const isElementInViewport = (\n  el: HTMLElement,\n  win = window,\n  docEl = document.documentElement\n): boolean => {\n  const rect = el.getBoundingClientRect()\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <= (win.innerHeight || docEl.clientHeight) &&\n    rect.right <= (win.innerWidth || docEl.clientWidth)\n  )\n}\n\n// https://github.com/uswds/uswds/blob/v2.11.2/src/js/components/tooltip.js\n\n/**\n * get margin offset calculations\n *\n * @param {HTMLElement} target - this is the tooltip body\n * @param {String} propertyValue - this is the tooltip body\n */\n\nconst offsetMargin = (target: HTMLElement, propertyValue: string) =>\n  parseInt(window.getComputedStyle(target).getPropertyValue(propertyValue), 10)\n\n// offsetLeft = the left position, and margin of the element, the left\n// padding, scrollbar and border of the offsetParent element\n// offsetWidth = The offsetWidth property returns the viewable width of an\n// element in pixels, including padding, border and scrollbar, but not\n// the margin.\n\n/**\n * Calculate margin offset\n * tooltip trigger margin(position) offset + tooltipBody offsetWidth\n * @param {String} marginPosition\n * @param {Number} tooltipBodyOffset\n * @param {HTMLElement} trigger\n */\n\nexport const calculateMarginOffset = (\n  marginPosition: string,\n  tooltipBodyOffset: number,\n  trigger: HTMLElement\n): number => {\n  const offset =\n    offsetMargin(trigger, `margin-${marginPosition}`) > 0\n      ? tooltipBodyOffset - offsetMargin(trigger, `margin-${marginPosition}`)\n      : tooltipBodyOffset\n\n  return offset\n}\n\nexport function isCustomProps<T>(\n  props: DefaultTooltipProps | CustomTooltipProps<T>\n): props is CustomTooltipProps<T> {\n  return 'asCustom' in props\n}\n"],"names":["isElementInViewport","el","win","docEl","rect","offsetMargin","target","propertyValue","calculateMarginOffset","marginPosition","tooltipBodyOffset","trigger","isCustomProps","props"],"mappings":"AAEO,MAAMA,IAAsB,CACjCC,GACAC,IAAM,QACNC,IAAQ,SAAS,oBACL;AACN,QAAAC,IAAOH,EAAG;AAChB,SACEG,EAAK,OAAO,KACZA,EAAK,QAAQ,KACbA,EAAK,WAAWF,EAAI,eAAeC,EAAM,iBACzCC,EAAK,UAAUF,EAAI,cAAcC,EAAM;AAE3C,GAWME,IAAe,CAACC,GAAqBC,MACzC,SAAS,OAAO,iBAAiBD,CAAM,EAAE,iBAAiBC,CAAa,GAAG,EAAE,GAgBjEC,IAAwB,CACnCC,GACAC,GACAC,MAGEN,EAAaM,GAAS,UAAUF,CAAc,EAAE,IAAI,IAChDC,IAAoBL,EAAaM,GAAS,UAAUF,CAAc,EAAE,IACpEC;AAKD,SAASE,EACdC,GACgC;AAChC,SAAO,cAAcA;AACvB;"}