{"version":3,"file":"utils.js","sources":["../../../../libSrc/components/forms/TimePicker/utils.ts"],"sourcesContent":["import type { ComboBoxOption } from '../combobox/ComboBox/ComboBox.js'\n\n/**\n * Parse a string of hh:mm into minutes\n *\n * @param {string} timeStr the time string to parse\n * @returns {number} the number of minutes\n */\nexport const parseTimeString = (timeStr: string): number | undefined => {\n  let minutes\n\n  if (timeStr) {\n    const [hours, mins] = timeStr.split(':').map((str) => {\n      let value: number | undefined\n      const parsed = parseInt(str, 10)\n      if (!Number.isNaN(parsed)) value = parsed\n      return value\n    })\n\n    if (hours != null && mins != null) {\n      minutes = hours * 60 + mins\n    }\n  }\n\n  return minutes\n}\n\nexport interface TimeContext {\n  minute: number\n  hour12: number\n  hour24: number\n  ampm: 'am' | 'pm'\n}\n\nexport const getTimeContext = (minutes: number): TimeContext => {\n  const minute = minutes % 60\n  const hour24 = Math.floor(minutes / 60)\n  const hour12 = hour24 % 12 || 12\n  const ampm = hour24 < 12 ? 'am' : 'pm'\n\n  return {\n    minute,\n    hour24,\n    hour12,\n    ampm,\n  }\n}\n\nexport const padZeros = (value: number, length: number): string => {\n  return `0000${value}`.slice(-length)\n}\n\nexport const getTimeOptions = (\n  minTimeMinutes: number,\n  maxTimeMinutes: number,\n  step: number\n): ComboBoxOption[] => {\n  const timeOptions: ComboBoxOption[] = []\n\n  for (\n    let minutes = minTimeMinutes;\n    minutes <= maxTimeMinutes;\n    minutes += step\n  ) {\n    const { minute, hour24, hour12, ampm } = getTimeContext(minutes)\n\n    timeOptions.push({\n      value: `${padZeros(hour24, 2)}:${padZeros(minute, 2)}`,\n      label: `${hour12}:${padZeros(minute, 2)}${ampm}`,\n    })\n  }\n\n  return timeOptions\n}\n"],"names":["parseTimeString","timeStr","minutes","hours","mins","str","value","parsed","getTimeContext","minute","hour24","hour12","ampm","padZeros","length","getTimeOptions","minTimeMinutes","maxTimeMinutes","step","timeOptions"],"mappings":"AAQa,MAAAA,IAAkB,CAACC,MAAwC;AAClE,MAAAC;AAEJ,MAAID,GAAS;AACL,UAAA,CAACE,GAAOC,CAAI,IAAIH,EAAQ,MAAM,GAAG,EAAE,IAAI,CAACI,MAAQ;AAChD,UAAAC;AACE,YAAAC,IAAS,SAASF,GAAK,EAAE;AAC3B,aAAC,OAAO,MAAME,CAAM,MAAWD,IAAAC,IAC5BD;AAAA,IAAA,CACR;AAEG,IAAAH,KAAS,QAAQC,KAAQ,SAC3BF,IAAUC,IAAQ,KAAKC;AAAA,EAE3B;AAEO,SAAAF;AACT,GASaM,IAAiB,CAACN,MAAiC;AAC9D,QAAMO,IAASP,IAAU,IACnBQ,IAAS,KAAK,MAAMR,IAAU,EAAE,GAChCS,IAASD,IAAS,MAAM,IACxBE,IAAOF,IAAS,KAAK,OAAO;AAE3B,SAAA;AAAA,IACL,QAAAD;AAAA,IACA,QAAAC;AAAA,IACA,QAAAC;AAAA,IACA,MAAAC;AAAA,EAAA;AAEJ,GAEaC,IAAW,CAACP,GAAeQ,MAC/B,OAAOR,CAAK,GAAG,MAAM,CAACQ,CAAM,GAGxBC,IAAiB,CAC5BC,GACAC,GACAC,MACqB;AACrB,QAAMC,IAAgC,CAAA;AAEtC,WACMjB,IAAUc,GACdd,KAAWe,GACXf,KAAWgB,GACX;AACA,UAAM,EAAE,QAAAT,GAAQ,QAAAC,GAAQ,QAAAC,GAAQ,MAAAC,MAASJ,EAAeN,CAAO;AAE/D,IAAAiB,EAAY,KAAK;AAAA,MACf,OAAO,GAAGN,EAASH,GAAQ,CAAC,CAAC,IAAIG,EAASJ,GAAQ,CAAC,CAAC;AAAA,MACpD,OAAO,GAAGE,CAAM,IAAIE,EAASJ,GAAQ,CAAC,CAAC,GAAGG,CAAI;AAAA,IAAA,CAC/C;AAAA,EACH;AAEO,SAAAO;AACT;"}