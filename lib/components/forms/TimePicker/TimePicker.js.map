{"version":3,"file":"TimePicker.js","sources":["../../../../libSrc/components/forms/TimePicker/TimePicker.tsx"],"sourcesContent":["import React, { useMemo } from 'react'\nimport classnames from 'classnames'\nimport FormGroup from '../FormGroup/FormGroup.js'\nimport Label from '../label/Label/Label.js'\nimport ComboBox, { type ComboBoxProps } from '../combobox/ComboBox/ComboBox.js'\nimport { getTimeOptions, parseTimeString } from './utils.js'\nimport {\n  DEFAULT_MAX_TIME,\n  DEFAULT_MAX_TIME_MINUTES,\n  DEFAULT_MIN_TIME,\n  DEFAULT_MIN_TIME_MINUTES,\n  DEFAULT_STEP,\n  MIN_STEP,\n  TIME_PICKER_CUSTOM_FILTER,\n} from './constants.js'\n\nexport type BaseTimePickerProps = {\n  id: string\n  name: string\n  onChange: (val?: string) => void\n  label: string\n  defaultValue?: string\n  disabled?: boolean\n  minTime?: string\n  maxTime?: string\n  step?: number\n  hint?: string\n  className?: string\n}\n\nexport type TimePickerProps = BaseTimePickerProps &\n  Omit<ComboBoxProps, 'onChange' | 'options'>\n\nconst TimePicker = ({\n  id,\n  name,\n  onChange,\n  label,\n  defaultValue,\n  disabled,\n  minTime = DEFAULT_MIN_TIME,\n  maxTime = DEFAULT_MAX_TIME,\n  step = DEFAULT_STEP,\n  hint,\n  className,\n  ...props\n}: TimePickerProps): React.ReactElement => {\n  const classes = classnames('usa-time-picker', className)\n\n  const parsedMinTime = parseTimeString(minTime) || DEFAULT_MIN_TIME_MINUTES\n  const parsedMaxTime = parseTimeString(maxTime) || DEFAULT_MAX_TIME_MINUTES\n  const validStep = step < MIN_STEP ? MIN_STEP : step\n  const timeOptions = useMemo(\n    () => getTimeOptions(parsedMinTime, parsedMaxTime, validStep),\n    [minTime, maxTime, step]\n  )\n\n  const labelId = `${name}-label`\n  const hintId = `${name}-hint`\n\n  return (\n    <FormGroup>\n      <Label id={labelId} htmlFor={id}>\n        {label}\n      </Label>\n      {hint && (\n        <div className=\"usa-hint\" id={hintId}>\n          {hint}\n        </div>\n      )}\n      <ComboBox\n        id={id}\n        name={name}\n        className={classes}\n        onChange={onChange}\n        defaultValue={defaultValue}\n        options={timeOptions}\n        disabled={disabled}\n        customFilter={TIME_PICKER_CUSTOM_FILTER}\n        disableFiltering\n        {...props}\n      />\n    </FormGroup>\n  )\n}\n\nexport default TimePicker\n"],"names":["TimePicker","id","name","onChange","label","defaultValue","disabled","minTime","DEFAULT_MIN_TIME","maxTime","DEFAULT_MAX_TIME","step","DEFAULT_STEP","hint","className","props","classes","classnames","parsedMinTime","parseTimeString","DEFAULT_MIN_TIME_MINUTES","parsedMaxTime","DEFAULT_MAX_TIME_MINUTES","validStep","MIN_STEP","timeOptions","useMemo","getTimeOptions","labelId","hintId","FormGroup","jsx","Label","ComboBox","TIME_PICKER_CUSTOM_FILTER"],"mappings":";;;;;;;;AAiCA,MAAMA,IAAa,CAAC;AAAA,EAClB,IAAAC;AAAA,EACA,MAAAC;AAAA,EACA,UAAAC;AAAA,EACA,OAAAC;AAAA,EACA,cAAAC;AAAA,EACA,UAAAC;AAAA,EACA,SAAAC,IAAUC;AAAA,EACV,SAAAC,IAAUC;AAAA,EACV,MAAAC,IAAOC;AAAA,EACP,MAAAC;AAAA,EACA,WAAAC;AAAA,EACA,GAAGC;AACL,MAA2C;AACnC,QAAAC,IAAUC,EAAW,mBAAmBH,CAAS,GAEjDI,IAAgBC,EAAgBZ,CAAO,KAAKa,GAC5CC,IAAgBF,EAAgBV,CAAO,KAAKa,GAC5CC,IAAYZ,IAAOa,IAAWA,IAAWb,GACzCc,IAAcC;AAAA,IAClB,MAAMC,EAAeT,GAAeG,GAAeE,CAAS;AAAA,IAC5D,CAAChB,GAASE,GAASE,CAAI;AAAA,EAAA,GAGnBiB,IAAU,GAAG1B,CAAI,UACjB2B,IAAS,GAAG3B,CAAI;AAEtB,2BACG4B,GACC,EAAA,UAAA;AAAA,IAAA,gBAAAC,EAACC,GAAM,EAAA,IAAIJ,GAAS,SAAS3B,GAC1B,UACHG,GAAA;AAAA,IACCS,KACE,gBAAAkB,EAAA,OAAA,EAAI,WAAU,YAAW,IAAIF,GAC3B,UACHhB,GAAA;AAAA,IAEF,gBAAAkB;AAAA,MAACE;AAAA,MAAA;AAAA,QACC,IAAAhC;AAAA,QACA,MAAAC;AAAA,QACA,WAAWc;AAAA,QACX,UAAAb;AAAA,QACA,cAAAE;AAAA,QACA,SAASoB;AAAA,QACT,UAAAnB;AAAA,QACA,cAAc4B;AAAA,QACd,kBAAgB;AAAA,QACf,GAAGnB;AAAA,MAAA;AAAA,IACN;AAAA,EACF,EAAA,CAAA;AAEJ;"}