{"version":3,"file":"utils.js","sources":["../../../../libSrc/components/forms/TextInputMask/utils.ts"],"sourcesContent":["/* eslint-disable security/detect-object-injection */\nexport function maskString(value: string, mask: string, charset?: string) {\n  const maskData = charset || mask\n\n  const strippedValue = charset\n    ? value.replace(/\\W/g, '')\n    : value.replace(/\\D/g, '')\n  const charIsInteger = (v: string) => !Number.isNaN(parseInt(v, 10))\n  const charIsLetter = (v: string) => (v ? v.match(/[A-Z]/i) : false)\n  const maskedNumber = '_#dDmMyY9'\n  const maskedLetter = 'A'\n  let newValue = ''\n  for (let m = 0, v = 0; m < maskData.length; m++) {\n    const isInt = charIsInteger(strippedValue[v])\n    const isLet = charIsLetter(strippedValue[v])\n    const matchesNumber = maskedNumber.indexOf(maskData[m]) >= 0\n    const matchesLetter = maskedLetter.indexOf(maskData[m]) >= 0\n    if ((matchesNumber && isInt) || (charset && matchesLetter && isLet)) {\n      newValue += strippedValue[v++]\n    } else if (\n      strippedValue[v] === undefined || // if no characters left and the pattern is non-special character\n      (!charset && !isInt && matchesNumber) ||\n      (charset && ((matchesLetter && !isLet) || (matchesNumber && !isLet)))\n    ) {\n      break\n    } else {\n      newValue += maskData[m]\n    }\n  }\n\n  return newValue\n}\n"],"names":["maskString","value","mask","charset","maskData","strippedValue","charIsInteger","v","charIsLetter","maskedNumber","maskedLetter","newValue","m","isInt","isLet","matchesNumber","matchesLetter"],"mappings":"AACgB,SAAAA,EAAWC,GAAeC,GAAcC,GAAkB;AACxE,QAAMC,IAAWD,KAAWD,GAEtBG,IAAgBF,IAClBF,EAAM,QAAQ,OAAO,EAAE,IACvBA,EAAM,QAAQ,OAAO,EAAE,GACrBK,IAAgB,CAACC,MAAc,CAAC,OAAO,MAAM,SAASA,GAAG,EAAE,CAAC,GAC5DC,IAAe,CAACD,MAAeA,IAAIA,EAAE,MAAM,QAAQ,IAAI,IACvDE,IAAe,aACfC,IAAe;AACrB,MAAIC,IAAW;AACf,WAASC,IAAI,GAAGL,IAAI,GAAGK,IAAIR,EAAS,QAAQQ,KAAK;AAC/C,UAAMC,IAAQP,EAAcD,EAAcE,CAAC,CAAC,GACtCO,IAAQN,EAAaH,EAAcE,CAAC,CAAC,GACrCQ,IAAgBN,EAAa,QAAQL,EAASQ,CAAC,CAAC,KAAK,GACrDI,IAAgBN,EAAa,QAAQN,EAASQ,CAAC,CAAC,KAAK;AAC3D,QAAKG,KAAiBF,KAAWV,KAAWa,KAAiBF;AAC3D,MAAAH,KAAYN,EAAcE,GAAG;AAAA,SAC/B;AAAA,UACEF,EAAcE,CAAC,MAAM;AAAA,MACpB,CAACJ,KAAW,CAACU,KAASE,KACtBZ,MAAaa,KAAiB,CAACF,KAAWC,KAAiB,CAACD;AAE7D;AAEA,MAAAH,KAAYP,EAASQ,CAAC;AAAA;AAAA,EAE1B;AAEO,SAAAD;AACT;"}